exports.ids=[6],exports.modules={33:function(t,i,e){"use strict";var n={name:"mt-header",props:{fixed:Boolean,title:String}},a=function(){var t=this.$createElement;return(this._self._c||t)("header",{staticClass:"c-header",class:{"is-fixed":this.fixed}},[this._ssrNode('<div class="c-header-button is-left"></div> <h1 class="c-header-title">'+this._ssrEscape(this._s(this.title))+'</h1> <div class="c-header-button is-right"></div>')])};a._withStripped=!0;var o=e(1);var r=function(t){var i;(i=e(42)).__inject__&&i.__inject__(t)},l=Object(o.a)(n,a,[],!1,r,null,"37aee6ec");l.options.__file="app\\web\\components\\wxHeader\\index.vue";i.a=l.exports},41:function(t,i,e){(t.exports=e(5)(!1)).push([t.i,".c-header{align-items:center;background-color:#2bb5f5;box-sizing:border-box;color:#fff;display:flex;font-size:18px;height:70px;line-height:1;padding:25px 10px 0;position:relative;text-align:center;white-space:nowrap;z-index:999}.c-header .c-button{background-color:transparent;border:0;box-shadow:none;color:inherit;display:inline-block;padding:0;font-size:inherit}.c-header .c-button:after{content:none}.c-header.is-fixed{top:0;right:0;left:0;position:fixed;z-index:999}.c-header-button{flex:0.5}.c-header-button>a{color:inherit}.c-header-button.is-right{text-align:right}.c-header-button.is-left{text-align:left}.c-header-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:inherit;font-weight:400;flex:1}",""])},42:function(t,i,e){var n=e(41);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e(4).default;t.exports.__inject__=function(t){a("6af6ac98",n,!1,t)}},51:function(t,i,e){"use strict";e.r(i);var n=e(33),a=(e(24),e(54));"function"==typeof Symbol&&Symbol.iterator;var o=e(9),r={components:{wxHeader:n.a,quillEditor:a.quillEditor},mounted:function(){var t=this;wx.miniProgram.getEnv(function(t){});var i=function(){for(var t={},i=location.search.substring(1).split("&"),e=0;e<i.length;e++){var n=i[e].indexOf("=");if(-1!=n){var a=i[e].substring(0,n),o=i[e].substring(n+1);o=decodeURIComponent(o),t[a]=o}}return t}();this.article_id=i.article_id,this.Authorization=i.Authorization,Object(o.d)({article_id:this.article_id,Authorization:i.Authorization}).then(function(i){t.article_images=i.data.images,t.content=i.data.content})},data:function(){return{article_id:"",Authorization:"",article_images:[],imagesVisible:!1,editorOption:{debug:!1,placeholder:"开始分享吧",readOnly:!0,theme:"snow",modules:{toolbar:{container:"#toolbar",handlers:{image:this.imageUpload}}}},content:"",rich_content:[],dialogVisible:!0}},computed:{editor:function(){var t=this.$refs.myQuillEditor.quill;return t}},methods:{wxConfig:function(t){wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseImage"]})},onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},imageUpload:function(t){},videoUpload:function(t){},UploadHandler:function(){var t=this;this.$confirm("确定提交?","提示",{customClass:"wx",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=t.editor.getText(0,160);Object(o.a)({article_id:t.article_id,article_content:t.content,pre_content:i,Authorization:t.Authorization}).then(function(i){i.success?(wx.miniProgram.postMessage({data:{article_id:i.data.article_id}}),wx.miniProgram.navigateBack()):t.$message.error(i.message)})}).catch(function(){})},imgSelect:function(t){var i=this.editor.getLength();this.editor.insertEmbed(i,"image",t.imageURL),this.editor.insertText(i+1," "),this.imagesVisible=!1},videoSelect:function(t){}}},l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"article"},[e("wx-header",{attrs:{fixed:"",title:"文章正文"}}),t._ssrNode(" "),e("quill-editor",{ref:"myQuillEditor",staticClass:"article_editor",attrs:{options:t.editorOption},on:{blur:function(i){t.onEditorBlur(i)},focus:function(i){t.onEditorFocus(i)},ready:function(i){t.onEditorReady(i)}},model:{value:t.content,callback:function(i){t.content=i},expression:"content"}},[e("div",{attrs:{slot:"toolbar",id:"toolbar"},slot:"toolbar"},[e("button",{staticClass:"ql ql-bold"},[t._v("Bold")]),t._v(" "),e("button",{staticClass:"ql ql-italic"},[t._v("Italic")]),t._v(" "),e("button",{staticClass:"ql ql-list",attrs:{value:"ordered"}}),t._v(" "),e("button",{staticClass:"ql ql-list",attrs:{value:"bullet"}}),t._v(" "),e("button",{staticClass:"ql ql-script",attrs:{value:"sub"}}),t._v(" "),e("button",{staticClass:"ql ql-script",attrs:{value:"super"}}),t._v(" "),e("button",{staticClass:"ql ql-indent",attrs:{value:"-1"}}),t._v(" "),e("button",{staticClass:"ql ql-indent",attrs:{value:"+1"}}),t._v(" "),e("button",{staticClass:"ql ql-image",on:{click:function(i){t.imagesVisible=!0}}}),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:t.UploadHandler}},[t._v("完成")])],1)]),t._ssrNode(" "),e("el-dialog",{staticClass:"article_assets",attrs:{title:"图片选择(点击选择)",visible:t.imagesVisible},on:{"update:visible":function(i){t.imagesVisible=i}}},[t.article_images.length?e("ul",{staticClass:"article_assets_list"},[e("el-row",{staticClass:"row-bg",attrs:{gutter:18}},t._l(t.article_images,function(i,n){return e("el-col",{key:n,attrs:{span:8}},[e("div",{staticClass:"article_assets_item",on:{click:function(e){t.imgSelect(i)}}},[e("img",{attrs:{src:i.imageURL,alt:""}})])])}))],1):e("h3",[t._v("没有提交图片素材")])])],2)};l._withStripped=!0;var s=e(1);var c=function(t){var i;(i=e(71)).__inject__&&i.__inject__(t)},d=Object(s.a)(r,l,[],!1,c,null,"bd74ef84");d.options.__file="app\\web\\views\\article\\index.vue";i.default=d.exports},70:function(t,i,e){(t.exports=e(5)(!1)).push([t.i,"\n.article {\n  overflow: hidden;\n  padding-top: 70px;\n}\n.article_editor {\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 70px;\n}\n.article_editor .ql-toolbar {\n  position: fixed;\n  left: 0;\n  top: 70px;\n  width: 100%;\n  z-index: 999;\n  background-color: #fff;\n}\n.article_editor .ql-container {\n  padding-top: 43px;\n}\n.article_assets {\n  width: 100%;\n  padding: 0 20px;\n}\n.article_assets .el-dialog {\n  width: 100%;\n}\n.article_assets .el-dialog__body {\n  padding: 20px 0;\n}\n.article_assets_list {\n  margin: 0;\n  padding: 0;\n}\n.article_assets_item {\n  text-align: center;\n  margin-bottom: 10px;\n}\n.article_assets_item img {\n  width: 80px;\n  height: 80px;\n  border-radius: 6px;\n}\n.article .ql-editor {\n  min-height: 600px;\n}\n.article .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 2em;\n}\n.article .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 4em;\n}\n.article .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n.article .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 8em;\n}\n.article .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 10em;\n}\n.article .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n.wx {\n  width: 250px;\n}\n",""])},71:function(t,i,e){var n=e(70);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e(4).default;t.exports.__inject__=function(t){a("a2b517e4",n,!1,t)}}};